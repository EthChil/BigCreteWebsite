<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="External Devices Alchitry See https://www.sparkfun.com/products/16527 I have one of these already and it&rsquo;s connectors make it easy to mount to a custom PCB for integration into a calculator"><meta property="og:title" content="Big Crete Calculator V2 Top Level"><meta property="og:description" content="External Devices Alchitry See https://www.sparkfun.com/products/16527 I have one of these already and it&rsquo;s connectors make it easy to mount to a custom PCB for integration into a calculator"><meta property="og:type" content="website"><meta property="og:image" content="https://bigcrete.engineering/icon.png"><meta property="og:url" content="https://bigcrete.engineering/BigCreteCalculator/V2/Architecture-V2/TOP-Design-V2/"><meta property="og:width" content="200"><meta property="og:height" content="200"><meta name=twitter:card content="summary"><meta name=twitter:title content="Big Crete Calculator V2 Top Level"><meta name=twitter:description content="External Devices Alchitry See https://www.sparkfun.com/products/16527 I have one of these already and it&rsquo;s connectors make it easy to mount to a custom PCB for integration into a calculator"><meta name=twitter:image content="https://bigcrete.engineering/icon.png"><meta name=twitter:site content="BigCrete"><title>Big Crete Calculator V2 Top Level</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=/icon.png><link href=https://bigcrete.engineering/styles.efa84b6598a947e785ccf69ee60b9000.min.css rel=stylesheet><link href=https://bigcrete.engineering/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://bigcrete.engineering/js/darkmode.0153d005bf0bd64ffed13155e335f0b9.min.js></script>
<script src=https://bigcrete.engineering/js/util.00639692264b21bc3ee219733d38a8be.min.js></script>
<link rel=preload href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css as=style onload='this.onload=null,this.rel="stylesheet"' integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/core@1.2.1></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.2.1></script>
<script defer src=https://bigcrete.engineering/js/popover.aa9bc99c7c38d3ae9538f218f1416adb.min.js></script>
<script defer src=https://bigcrete.engineering/js/code-title.ce4a43f09239a9efb48fee342e8ef2df.min.js></script>
<script defer src=https://bigcrete.engineering/js/clipboard.2913da76d3cb21c5deaa4bae7da38c9f.min.js></script>
<script defer src=https://bigcrete.engineering/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=!1,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://bigcrete.engineering/",fetchData=Promise.all([fetch("https://bigcrete.engineering/indices/linkIndex.5a1b0c5810ee3d88af0a80718f4c5c27.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://bigcrete.engineering/indices/contentIndex.a88035681d5f55371616f3819e649358.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://bigcrete.engineering",!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://bigcrete.engineering",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}var i=document.getElementsByClassName("mermaid");i.length>0&&import("https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs").then(e=>{e.default.init()});function a(n){const e=n.target,t=e.className.split(" "),s=t.includes("broken"),o=t.includes("internal-link");plausible("Link Click",{props:{href:e.href,broken:s,internal:o,graph:!1}})}const r=document.querySelectorAll("a");for(link of r)link.className.includes("root-title")&&link.addEventListener("click",a,{once:!0})},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'‚Äô':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/bigcrete.engineering\/js\/router.db7c2da4852658a39144c8e3ee64d492.min.js"
    attachSPARouting(init, render)
  </script><script defer data-domain=bigcrete.engineering src=https://plausible.io/js/script.js></script>
<script>window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script></head><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://bigcrete.engineering/js/full-text-search.e6e2e0c213187ca0c703d6e2c7a77fcd.min.js></script><div class=singlePage><header><h1 id=page-title><a class=root-title href=https://bigcrete.engineering/construction.html>üèóÔ∏èConstruction Site</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div></header><article><h1>Big Crete Calculator V2 Top Level</h1><p class=meta>Last updated
Jun 17, 2023</p><ul class=tags></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#alchitry>Alchitry</a></li><li><a href=#battery>Battery</a></li><li><a href=#leds>LEDs</a></li><li><a href=#switches>Switches</a></li><li><a href=#screen>Screen</a></li><li><a href=#usb-c-port>USB-C Port</a></li></ol><ol><li><a href=#screen-1>Screen</a></li><li><a href=#led-multiplexer>LED Multiplexer</a></li><li><a href=#bms>BMS</a></li><li><a href=#boost-regulator>Boost Regulator</a></li></ol></nav></details></aside><a href=#external-devices><h1 id=external-devices><span class=hanchor arialabel=Anchor># </span>External Devices</h1></a><a href=#alchitry><h2 id=alchitry><span class=hanchor arialabel=Anchor># </span>Alchitry</h2></a><p>See
<a href=https://www.sparkfun.com/products/16527 rel=noopener>https://www.sparkfun.com/products/16527</a> I have one of these already and it&rsquo;s connectors make it easy to mount to a custom PCB for integration into a calculator</p><a href=#battery><h2 id=battery><span class=hanchor arialabel=Anchor># </span>Battery</h2></a><p>Battery will be a LiPO 1s2p pack to give the most capacity possible. Easiest to get batteries are 2Ah ones from adafruit. The biggest drawback from using them is their C rating which tops me out at 4A max draw which at their minimum voltage of 3.7V is 15W which should be adequete for the circuit. See <a href=/BigCreteCalculator/V2/Architecture-V2/Power-Architecture-V2 rel=noopener class=internal-link data-src=/BigCreteCalculator/V2/Architecture-V2/Power-Architecture-V2>Power Architecture V2</a> for more information.</p><a href=#leds><h2 id=leds><span class=hanchor arialabel=Anchor># </span>LEDs</h2></a><p>For the keyswitches square LEDs are required. The selected ones are from adafruit but purchased through digikey <a class="internal-link broken">p2739.pdf</a></p><a href=#switches><h2 id=switches><span class=hanchor arialabel=Anchor># </span>Switches</h2></a><p>Switches were selected on the basis of being as loud as possible and allowing RGB lighting. The best option for this are gateron greens which can be paired with rectangular RGB LEDs.</p><a href=#screen><h2 id=screen><span class=hanchor arialabel=Anchor># </span>Screen</h2></a><p>The screen being used is the adafruit 320x480 full colour LCD. This is verified working with the FPGA per a design I wrote located under RTL/display_test in this repo.
<a href=https://www.adafruit.com/product/2050 rel=noopener>https://www.adafruit.com/product/2050</a></p><a href=#usb-c-port><h2 id=usb-c-port><span class=hanchor arialabel=Anchor># </span>USB-C Port</h2></a><p>fairly straightforward this isn&rsquo;t going to be supporting USB-PD (maybe that&rsquo;ll show up in V3) instead it will be taking 5V input from a non PD power source and allow reprogramming the alchitry over the data connection (this will just be attached through from the alchitry)
The 5V signal will be fed past the boost convertor directly going to the circuit. The data pins will be connected through a header on the mainboard to the alchitry. Since the alchitry doesn&rsquo;t breakout it&rsquo;s programming pins over the header this will be done by using a male USB-C connector with pads for soldering wires on the end. it&rsquo;s a tad jank but it&rsquo;ll get the job done.
<a href=https://www.digikey.ca/en/products/detail/keystone-electronics/954/5638367 rel=noopener>https://www.digikey.ca/en/products/detail/keystone-electronics/954/5638367</a>
this is the connector that will hook into the alchitry</p><a href=#internal-subcircuits><h1 id=internal-subcircuits><span class=hanchor arialabel=Anchor># </span>Internal Subcircuits</h1></a><a href=#screen-1><h2 id=screen-1><span class=hanchor arialabel=Anchor># </span>Screen</h2></a><p>Adafruit Display that handles driving, backlight, voltage translation</p><a href=#led-multiplexer><h2 id=led-multiplexer><span class=hanchor arialabel=Anchor># </span>LED Multiplexer</h2></a><p>for more information on the LED driver circuit topology see <a class="internal-link broken">Current Mirror Power Analysis</a></p><a href=#bms><h2 id=bms><span class=hanchor arialabel=Anchor># </span>BMS</h2></a><p>simple single cell charger that takes 5V from USB-C as input. See <a href=/BigCreteCalculator/V2/Architecture-V2/Power-Architecture-V2 rel=noopener class=internal-link data-src=/BigCreteCalculator/V2/Architecture-V2/Power-Architecture-V2>Power Architecture V2</a></p><a href=#boost-regulator><h2 id=boost-regulator><span class=hanchor arialabel=Anchor># </span>Boost Regulator</h2></a><p>steps 3.2V-4.2V to a constant 5V. See <a href=/BigCreteCalculator/V2/Architecture-V2/Power-Architecture-V2 rel=noopener class=internal-link data-src=/BigCreteCalculator/V2/Architecture-V2/Power-Architecture-V2>Power Architecture V2</a></p></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li>No backlinks found</li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://bigcrete.engineering/js/graph.6579af7b10c818dbd2ca038702db0224.js></script></div></div><div id=contact_buttons><footer><p>Made by Ethan Childerhose using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, ¬© 2023</p><ul><li><a href=https://bigcrete.engineering/construction.html>Home</a></li><li><a href=https://twitter.com/BigCrete>Twitter</a></li><li><a href=https://www.linkedin.com/in/ethan-childerhose/>Linkedin</a></li></ul></footer></div></div></body></html>